{#
#	Speciol button template to use available icons only
#
#}

{% set bg = get_color_by_slug(buttonColor ?? 'primary', customButtonColor) %}


{% set outline = "is-style-outline" in className %}

{% set hasModal = action == 'modal' %}

{% set classes = 
	'button ' ~
	className ~  
	(action == 'modal' ? ' has-modal' : '') ~
	(iconRight ? " button--reverse" : '') ~
	(outline ? " button--outline" : '') ~
	(iconOnly ? " button--icon button--round" : '') 
%}

{% set textColor = textColor ?? (outline ? bg.color : (bg.light ? "#000" : "#fff")) %}

{% set style = 
	style ~
	" color: " ~ textColor ~ ";" ~
	" background-color: " ~ (outline ? 'none;' : bg.color ~ ";") ~
	(outline ? " box-shadow: inset 0 0 0 2px " ~ bg.color ~ ";" : '')
%}

{% set tag = action == 'link' ? 'a' : 'button' %}

<{{tag}} 
	{{ id and hasModal ? 'data-modal="' ~ id ~ '"' }} 
	class="{{classes}}" 
	style="{{style}}" 
	href="{{ tag == a ? url }}" 
	{% if action == 'script' %}onClick="{{id}}()"{% endif %}
>
	{% if icon %}<i class="material-icons">{{icon}}</i>{% endif %} {{ not iconOnly ? title }}

</{{tag}}>

{% if script %}
	<script>
		const {{id}} = () => { {{script}} }
	</script>
{% endif %}